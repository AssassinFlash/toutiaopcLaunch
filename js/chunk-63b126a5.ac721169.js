(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-63b126a5"],{"230c":function(t,e,n){"use strict";n.r(e);n("b0c0");var r=n("7a23"),a=n("9d40"),c=n.n(a);Object(r["J"])("data-v-7923b667");var o={class:"article-container"},u=Object(r["o"])("首页"),i=Object(r["o"])(" 内容管理 "),l=Object(r["o"])("全部"),s=Object(r["o"])("草稿"),b=Object(r["o"])("待审核"),d=Object(r["o"])("审核通过"),f=Object(r["o"])("审核失败"),p=Object(r["o"])("已删除"),O=Object(r["o"])("全部"),j=Object(r["o"])(" 查询 "),m=["src"],v={src:c.a,alt:"",class:"article-image"},g={class:"pagination"};function h(t,e,n,a,c,h){var y=Object(r["N"])("router-link"),w=Object(r["N"])("a-breadcrumb-item"),x=Object(r["N"])("a-breadcrumb"),_=Object(r["N"])("a-radio"),k=Object(r["N"])("a-radio-group"),W=Object(r["N"])("a-form-item"),C=Object(r["N"])("a-select-option"),S=Object(r["N"])("a-select"),P=Object(r["N"])("a-range-picker"),A=Object(r["N"])("a-button"),N=Object(r["N"])("a-form"),D=Object(r["N"])("a-card"),R=Object(r["N"])("a-tag"),Y=Object(r["N"])("icon-font"),E=Object(r["N"])("a-divider"),T=Object(r["N"])("DeleteOutlined"),B=Object(r["N"])("a-popconfirm"),I=Object(r["N"])("a-table"),M=Object(r["N"])("a-pagination");return Object(r["G"])(),Object(r["m"])("div",o,[(Object(r["G"])(),Object(r["k"])(r["c"],null,{default:Object(r["W"])((function(){return[Object(r["p"])(D,{hoverable:"",class:"filter-card"},{title:Object(r["W"])((function(){return[Object(r["p"])(x,{separator:">"},{default:Object(r["W"])((function(){return[Object(r["p"])(w,null,{default:Object(r["W"])((function(){return[Object(r["p"])(y,{to:{name:"Home"}},{default:Object(r["W"])((function(){return[u]})),_:1})]})),_:1}),Object(r["p"])(w,null,{default:Object(r["W"])((function(){return[i]})),_:1})]})),_:1})]})),default:Object(r["W"])((function(){return[Object(r["p"])(N,{"label-col":a.labelCol,"wrapper-col":a.wrapperCol},{default:Object(r["W"])((function(){return[Object(r["p"])(W,{label:"状态"},{default:Object(r["W"])((function(){return[Object(r["p"])(k,{value:a.filterArticle.status,"onUpdate:value":e[0]||(e[0]=function(t){return a.filterArticle.status=t})},{default:Object(r["W"])((function(){return[Object(r["p"])(_,null,{default:Object(r["W"])((function(){return[l]})),_:1}),Object(r["p"])(_,{value:"0"},{default:Object(r["W"])((function(){return[s]})),_:1}),Object(r["p"])(_,{value:"1"},{default:Object(r["W"])((function(){return[b]})),_:1}),Object(r["p"])(_,{value:"2"},{default:Object(r["W"])((function(){return[d]})),_:1}),Object(r["p"])(_,{value:"3"},{default:Object(r["W"])((function(){return[f]})),_:1}),Object(r["p"])(_,{value:"4"},{default:Object(r["W"])((function(){return[p]})),_:1})]})),_:1},8,["value"])]})),_:1}),Object(r["p"])(W,{label:"频道",style:{width:"400px"}},{default:Object(r["W"])((function(){return[Object(r["p"])(S,{placeholder:"请选择频道",value:a.filterArticle.channel_id,"onUpdate:value":e[1]||(e[1]=function(t){return a.filterArticle.channel_id=t}),onChange:e[2]||(e[2]=function(t){return"0"===a.filterArticle.channel_id?a.filterArticle.channel_id=null:a.filterArticle.channel_id})},{default:Object(r["W"])((function(){return[Object(r["p"])(C,{value:"0"},{default:Object(r["W"])((function(){return[O]})),_:1}),(Object(r["G"])(!0),Object(r["m"])(r["b"],null,Object(r["M"])(a.channels,(function(t){return Object(r["G"])(),Object(r["k"])(C,{key:t.id,value:t.id},{default:Object(r["W"])((function(){return[Object(r["o"])(Object(r["P"])(t.name),1)]})),_:2},1032,["value"])})),128))]})),_:1},8,["value"])]})),_:1}),Object(r["p"])(W,{label:"日期"},{default:Object(r["W"])((function(){return[Object(r["p"])(P,{locale:a.locale,format:"YYYY-MM-DD",onChange:a.onChangeDate},null,8,["locale","onChange"])]})),_:1}),Object(r["p"])(W,{"wrapper-col":{span:14,offset:4}},{default:Object(r["W"])((function(){return[Object(r["p"])(A,{type:"primary",onClick:e[3]||(e[3]=function(t){return a.loadArticles(a.filterArticle)}),disabled:a.loading},{default:Object(r["W"])((function(){return[j]})),_:1},8,["disabled"])]})),_:1})]})),_:1},8,["label-col","wrapper-col"])]})),_:1})]})),_:1})),(Object(r["G"])(),Object(r["k"])(r["c"],null,{default:Object(r["W"])((function(){return[Object(r["p"])(D,{hoverable:""},{title:Object(r["W"])((function(){return[Object(r["n"])("div",null,"根据筛选条件共查询到 "+Object(r["P"])(a.totalCount)+" 条结果：",1)]})),default:Object(r["W"])((function(){return[Object(r["p"])(I,{class:"ant-table-striped",size:"middle",loading:a.loading,pagination:!1,scroll:{y:400},columns:a.columns,"data-source":a.articles},{image:Object(r["W"])((function(t){var e=t.record;return[Object(r["X"])(Object(r["n"])("img",{src:e.cover.images[0],alt:"",class:"article-image"},null,8,m),[[r["T"],e.cover.images[0]]]),Object(r["X"])(Object(r["n"])("img",v,null,512),[[r["T"],!e.cover.images[0]]])]})),status:Object(r["W"])((function(t){var e=t.record;return[Object(r["p"])(R,{color:a.articlesStatus[e.status].type},{default:Object(r["W"])((function(){return[Object(r["o"])(Object(r["P"])(a.articlesStatus[e.status].text),1)]})),_:2},1032,["color"])]})),action:Object(r["W"])((function(t){var e=t.record;return[Object(r["n"])("span",null,[Object(r["p"])(A,{type:"text",shape:"circle",onClick:function(t){return a.toPublishPage(e.key)}},{icon:Object(r["W"])((function(){return[Object(r["p"])(Y,{type:"icon-gai-copy"})]})),_:2},1032,["onClick"]),Object(r["p"])(E,{type:"vertical"}),Object(r["p"])(B,{title:"确定要删除该文章吗？","ok-text":"确定","cancel-text":"返回",disabled:e.statusDisabled,onConfirm:function(t){return a.onConfirmDelete(e)}},{icon:Object(r["W"])((function(){return[Object(r["p"])(Y,{type:"icon-shanchu"})]})),default:Object(r["W"])((function(){return[Object(r["p"])(T)]})),_:2},1032,["disabled","onConfirm"])])]})),_:1},8,["loading","columns","data-source"]),Object(r["n"])("div",g,[Object(r["p"])(M,{"show-quick-jumper":"",current:a.filterArticle.page,"onUpdate:current":e[4]||(e[4]=function(t){return a.filterArticle.page=t}),total:a.totalCount,disabled:a.loading,"show-total":function(t){return"总共 ".concat(t," 条结果")},onChange:e[5]||(e[5]=function(t){return a.loadArticles(a.filterArticle)})},null,8,["current","total","disabled","show-total"])])]})),_:1})]})),_:1}))])}Object(r["H"])();var y=n("1da1"),w=(n("d81d"),n("d3b7"),n("25f0"),n("99af"),n("96cf"),n("82ec")),x=n("b1c8"),_=n("f64c"),k=n("40a7"),W=n("6c02"),C=n("2423");function S(){return P.apply(this,arguments)}function P(){return P=Object(y["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(C["d"])();case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}),t)}))),P.apply(this,arguments)}function A(){return[{dataIndex:"cover",title:"封面",align:"center",width:"20%",slots:{customRender:"image"}},{dataIndex:"title",title:"标题",width:"25%"},{dataIndex:"status",title:"状态",width:"15%",slots:{customRender:"status"}},{dataIndex:"pubdate",title:"发布时间",align:"center",width:"20%"},{data:"methods",title:"操作",align:"center",slots:{customRender:"action"}}]}function N(t){return D.apply(this,arguments)}function D(){return D=Object(y["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(C["e"])(e);case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)}))),D.apply(this,arguments)}function R(){return[{status:0,text:"草稿",type:"default"},{status:1,text:"待审核",type:"processing"},{status:2,text:"审核完成",type:"success"},{status:3,text:"审核失败",type:"error"},{status:4,text:"已删除",type:"warning"}]}var Y=Object(w["a"])({scriptUrl:"//at.alicdn.com/t/font_2758474_a0gbql4hd8u.js"}),E={name:"ArticleIndex",components:{IconFont:Y,DeleteOutlined:x["a"],Suspense:r["c"]},setup:function(){var t=Object(r["L"])(!1),e=Object(r["K"])({}),n=Object(r["L"])([]),a=function(){var t=Object(y["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,S();case 2:e=t.sent,n.value=e.data.channels;case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),c=Object(r["K"])({page:1,status:null,channel_id:null}),o=Object(r["L"])([]),u=function(t,e){o.value=e,c.begin_pubdate=o.value[0],c.end_pubdate=o.value[1]},i=A(),l=Object(r["K"])({}),s=Object(r["L"])(null),b=Object(r["L"])([]),d=function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.value=!0,e.next=3,N(n);case 3:l=e.sent,t.value=!1,s.value=l.data.total_count,b.value=l.data.results.map((function(t,e){return{key:t.id.toString(),cover:t.cover,title:t.title,status:t.status,pubdate:t.pubdate}}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=Object(W["d"])(),p=function(t){f.push({name:"Publish",params:{id:t}})},O=Object(r["K"])({}),j=function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.value=!0,n.statusDisabled=!0,e.next=5,Object(C["b"])(n.key);case 5:if(O=e.sent,204!==O.status){e.next=13;break}return _["a"].success("删除：".concat(n.title," 成功"),3),e.next=10,d(c);case 10:n.statusDisabled=!1,e.next=16;break;case 13:_["a"].error("删除：".concat(n.title," 失败，").concat(O.status)),t.value=!1,n.statusDisabled=!1;case 16:e.next=23;break;case 18:e.prev=18,e.t0=e["catch"](0),_["a"].error("删除：".concat(n.title," 失败，").concat(e.t0)),t.value=!1,n.statusDisabled=!1;case 23:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(t){return e.apply(this,arguments)}}();Object(r["z"])(Object(y["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a();case 2:return t.next=4,d();case 4:case"end":return t.stop()}}),t)}))));var m=R(),v=Object(r["K"])({style:{width:"40px"}}),g=Object(r["K"])({span:14});return{locale:k["a"],loading:t,labelCol:v,wrapperCol:g,channels:n,filterArticle:c,loadArticles:d,toPublishPage:p,onConfirmDelete:j,totalCount:s,columns:i,articles:b,articlesStatus:m,onChangeDate:u}}};n("4ad9");E.render=h,E.__scopeId="data-v-7923b667";e["default"]=E},2423:function(t,e,n){"use strict";n.d(e,"e",(function(){return a})),n.d(e,"d",(function(){return c})),n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return u})),n.d(e,"c",(function(){return i})),n.d(e,"f",(function(){return l})),n.d(e,"g",(function(){return s}));var r=n("b775"),a=function(t){return Object(r["a"])({method:"GET",url:"/mp/v1_0/articles",params:t})},c=function(){return Object(r["a"])({method:"GET",url:"/mp/v1_0/channels"})},o=function(t){return Object(r["a"])({method:"DELETE",url:"/mp/v1_0/articles/".concat(t)})},u=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Object(r["a"])({method:"POST",url:"/mp/v1_0/articles",params:{draft:e},data:t})},i=function(t){return Object(r["a"])({method:"GET",url:"/mp/v1_0/articles/".concat(t)})},l=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(r["a"])({method:"PUT",url:"/mp/v1_0/articles/".concat(t),params:{draft:n},data:e})},s=function(t,e){return Object(r["a"])({method:"PUT",url:"/mp/v1_0/comments/status",params:{article_id:t},data:{allow_comment:e}})}},"25f0":function(t,e,n){"use strict";var r=n("6eeb"),a=n("825a"),c=n("577e"),o=n("d039"),u=n("ad6d"),i="toString",l=RegExp.prototype,s=l[i],b=o((function(){return"/a/b"!=s.call({source:"a",flags:"b"})})),d=s.name!=i;(b||d)&&r(RegExp.prototype,i,(function(){var t=a(this),e=c(t.source),n=t.flags,r=c(void 0===n&&t instanceof RegExp&&!("flags"in l)?u.call(t):n);return"/"+e+"/"+r}),{unsafe:!0})},"40a7":function(t,e,n){"use strict";var r=n("c31d"),a={today:"今天",now:"此刻",backToToday:"返回今天",ok:"确定",timeSelect:"选择时间",dateSelect:"选择日期",weekSelect:"选择周",clear:"清除",month:"月",year:"年",previousMonth:"上个月 (翻页上键)",nextMonth:"下个月 (翻页下键)",monthSelect:"选择月份",yearSelect:"选择年份",decadeSelect:"选择年代",yearFormat:"YYYY年",dayFormat:"D日",dateFormat:"YYYY年M月D日",dateTimeFormat:"YYYY年M月D日 HH时mm分ss秒",previousYear:"上一年 (Control键加左方向键)",nextYear:"下一年 (Control键加右方向键)",previousDecade:"上一年代",nextDecade:"下一年代",previousCentury:"上一世纪",nextCentury:"下一世纪"},c={placeholder:"请选择时间"},o=c,u={lang:Object(r["a"])({placeholder:"请选择日期",rangePlaceholder:["开始日期","结束日期"]},a),timePickerLocale:Object(r["a"])({},o)};u.lang.ok="确 定";e["a"]=u},"4ad9":function(t,e,n){"use strict";n("77ac")},"77ac":function(t,e,n){},"82ec":function(t,e,n){"use strict";n.d(e,"a",(function(){return v}));var r=n("7a23"),a=n("2adb");function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?Object(arguments[e]):{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){o(t,e,n[e])}))}return t}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t,e){if(null==t)return{};var n,r,a=i(t,e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(r=0;r<c.length;r++)n=c[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function i(t,e){if(null==t)return{};var n,r,a={},c=Object.keys(t);for(r=0;r<c.length;r++)n=c[r],e.indexOf(n)>=0||(a[n]=t[n]);return a}var l=function(t,e){var n=e.attrs,i=e.slots,l=c({},t,n),s=l["class"],b=l.component,d=l.viewBox,f=l.spin,p=l.rotate,O=l.tabindex,j=l.onClick,m=u(l,["class","component","viewBox","spin","rotate","tabindex","onClick"]),v=i["default"]&&i["default"](),g=v&&v.length,h=i.component;Object(a["g"])(Boolean(b||g||h),"Should have `component` prop/slot or `children`."),Object(a["f"])();var y=o({anticon:!0},s,s),w={"anticon-spin":""===f||!!f},x=p?{msTransform:"rotate(".concat(p,"deg)"),transform:"rotate(".concat(p,"deg)")}:void 0,_=c({},a["e"],{viewBox:d,class:w,style:x});d||delete _.viewBox;var k=function(){return b?r["p"](b,_,{default:function(){return[v]}}):h?h(_):g?(Object(a["g"])(Boolean(d)||1===v.length&&v[0]&&"use"===v[0].type,"Make sure that you provide correct `viewBox` prop (default `0 0 1024 1024`) to the icon."),r["p"]("svg",r["w"](_,{viewBox:d}),[v])):null},W=O;return void 0===W&&j&&(W=-1,m.tabindex=W),r["p"]("span",r["w"](m,{role:"img",onClick:j,class:y}),[k()])};l.props={spin:Boolean,rotate:Number,viewBox:String,ariaLabel:String},l.inheritAttrs=!1,l.displayName="Icon";var s=l;function b(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?Object(arguments[e]):{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){d(t,e,n[e])}))}return t}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f(t,e){if(null==t)return{};var n,r,a=p(t,e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(r=0;r<c.length;r++)n=c[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function p(t,e){if(null==t)return{};var n,r,a={},c=Object.keys(t);for(r=0;r<c.length;r++)n=c[r],e.indexOf(n)>=0||(a[n]=t[n]);return a}var O=new Set;function j(t){return"string"===typeof t&&t.length&&!O.has(t)}function m(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=t[e];if(j(n)){var r=document.createElement("script");r.setAttribute("src",n),r.setAttribute("data-namespace",n),t.length>e+1&&(r.onload=function(){m(t,e+1)},r.onerror=function(){m(t,e+1)}),O.add(n),document.body.appendChild(r)}}function v(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.scriptUrl,n=t.extraCommonProps,a=void 0===n?{}:n;"undefined"!==typeof document&&"undefined"!==typeof window&&"function"===typeof document.createElement&&(Array.isArray(e)?m(e.reverse()):m([e]));var c=function(t,e){var n=e.attrs,c=e.slots,o=b({},t,n),u=o.type,i=f(o,["type"]),l=c["default"]&&c["default"](),d=null;u&&(d=r["p"]("use",{"xlink:href":"#".concat(u)},null)),l&&l.length&&(d=l);var p=b({},a,i);return r["p"](s,p,{default:function(){return[d]}})};return c.props={spin:Boolean,rotate:Number,type:String},c.inheritAttrs=!1,c.displayName="Iconfont",c}},"99af":function(t,e,n){"use strict";var r=n("23e7"),a=n("d039"),c=n("e8b5"),o=n("861d"),u=n("7b0b"),i=n("50c4"),l=n("8418"),s=n("65f0"),b=n("1dde"),d=n("b622"),f=n("2d00"),p=d("isConcatSpreadable"),O=9007199254740991,j="Maximum allowed index exceeded",m=f>=51||!a((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),v=b("concat"),g=function(t){if(!o(t))return!1;var e=t[p];return void 0!==e?!!e:c(t)},h=!m||!v;r({target:"Array",proto:!0,forced:h},{concat:function(t){var e,n,r,a,c,o=u(this),b=s(o,0),d=0;for(e=-1,r=arguments.length;e<r;e++)if(c=-1===e?o:arguments[e],g(c)){if(a=i(c.length),d+a>O)throw TypeError(j);for(n=0;n<a;n++,d++)n in c&&l(b,d,c[n])}else{if(d>=O)throw TypeError(j);l(b,d++,c)}return b.length=d,b}})},"9d40":function(t,e,n){t.exports=n.p+"img/superman.6025bf06.svg"},ad6d:function(t,e,n){"use strict";var r=n("825a");t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},d81d:function(t,e,n){"use strict";var r=n("23e7"),a=n("b727").map,c=n("1dde"),o=c("map");r({target:"Array",proto:!0,forced:!o},{map:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=chunk-63b126a5.ac721169.js.map