{"version":3,"sources":["webpack:///./src/views/image/index.vue?b32d","webpack:///./src/views/image/index.vue","webpack:///./node_modules/@ant-design/icons-svg/es/asn/HeartOutlined.js","webpack:///./node_modules/@ant-design/icons-vue/es/icons/HeartOutlined.js","webpack:///./node_modules/@ant-design/icons-svg/es/asn/HeartFilled.js","webpack:///./node_modules/@ant-design/icons-vue/es/icons/HeartFilled.js","webpack:///./node_modules/@ant-design/icons-svg/es/asn/CloudUploadOutlined.js","webpack:///./node_modules/@ant-design/icons-vue/es/icons/CloudUploadOutlined.js","webpack:///./src/api/image.js","webpack:///./src/views/image/index.vue?6515"],"names":["class","default","hoverable","title","separator","to","value","imagesParams","collect","button-style","size","style","onRadioChange","type","shape","uploadVisible","icon","spinning","imagesArr","image","xs","sm","md","lg","key","id","src","url","alt","disabled","statusDisabled","onCollect","is_collected","ok-text","cancel-text","onDelete","width","visible","body-style","file-list","imageList","name","multiple","list-type","action","headers","uploadHeader","handleChange","showQuickJumper","current","page","total","totalCount","show-total","loadImages","_objectSpread","target","i","arguments","length","source","Object","ownKeys","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","enumerable","forEach","_defineProperty","obj","defineProperty","configurable","writable","props","context","p","attrs","AntdIcon","displayName","inheritAttrs","getImages","params","requestNet","method","collectImage","imageID","data","deleteImage","components","Suspense","HeartOutlined","HeartFilled","DeleteOutlined","CloudUploadOutlined","PlusOutlined","LoadingOutlined","setup","Authorization","window","localStorage","getItem","file","status","message","success","setTimeout","error","per_page","res","total_count","results","console","log","render","__scopeId"],"mappings":"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","file":"js/chunk-cb37d10c.41454319.js","sourcesContent":["export * from \"-!../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=b56b395c&lang=less&scoped=true\"","<template>\n  <div class=\"image-container\">\n    <Suspense>\n      <template #default>\n        <a-card hoverable>\n          <template #title>\n            <a-breadcrumb separator=\">\">\n              <a-breadcrumb-item>\n                <router-link :to=\"{ name: 'Home' }\">首页</router-link>\n              </a-breadcrumb-item>\n              <a-breadcrumb-item>素材管理</a-breadcrumb-item>\n            </a-breadcrumb>\n          </template>\n          <div class=\"radioGroup\">\n            <a-radio-group v-model:value=\"imagesParams.collect\"\n                           button-style=\"solid\"\n                           size=\"large\"\n                           style=\"margin-bottom:20px\"\n                           @change=\"onRadioChange\">\n              <a-radio-button :value=\"false\">全部</a-radio-button>\n              <a-radio-button :value=\"true\">收藏</a-radio-button>\n            </a-radio-group>\n            <a-button style=\"margin-right:30px\"\n                      type=\"primary\"\n                      shape=\"round\"\n                      size=\"large\"\n                      @click=\"uploadVisible=true\">\n              <template #icon>\n                <CloudUploadOutlined />\n                添加上传\n              </template>\n            </a-button>\n          </div>\n          <a-spin :spinning=\"spinning\">\n            <a-row>\n              <a-col :xs=\"24\"\n                     :sm=\"12\"\n                     :md=\"8\"\n                     :lg=\"6\"\n                     class=\"image-display\"\n                     v-for=\"image in imagesArr\"\n                     :key=\"image.id\">\n                <div class='image'>\n                  <img :src=\"image.url\"\n                       alt=\"\">\n                  <p class=\"icon-placement\">\n                    <a-button :disabled=\"image.statusDisabled\"\n                              shape=\"circle\"\n                              type=\"text\"\n                              @click=\"onCollect(image)\"\n                              style=\"font-size: 20px;line-height:20px\">\n                              <!-- @click=\"onCollect(image.id,image.is_collected)\"> -->\n                      <HeartOutlined :style=\"{color:'#eb2f96'}\"\n                                     v-show=\"!image.is_collected\" />\n                      <HeartFilled :style=\"{color: '#F20077'}\"\n                                   v-show=\"image.is_collected\" />\n                    </a-button>\n                    <a-popconfirm title=\"确定要删除该图片吗？\"\n                                  ok-text=\"确认删除\"\n                                  cancel-text=\"返回\"\n                                  @confirm=\"onDelete(image.id)\">\n                      <DeleteOutlined class='delete-image' />\n                    </a-popconfirm>\n                  </p>\n                </div>\n              </a-col>\n            </a-row>\n            <a-drawer title=\"上传图片\"\n                      :width=\"360\"\n                      :visible=\"uploadVisible\"\n                      :body-style=\"{ paddingBottom: '80px' }\"\n                      @close=\"uploadVisible=false\">\n              <!-- 上传组件：\n                          name是传给接口的参数名，为image\n                          action为向接口发送请求，method自动为post\n                          headers为接口设置请求头\n              -->\n              <a-upload v-model:file-list=\"imageList\"\n                        name=\"image\"\n                        :multiple=\"false\"\n                        list-type=\"picture-card\"\n                        class=\"avatar-uploader\"\n                        action=\"http://api-toutiao-web.itheima.net/mp/v1_0/user/images\"\n                        :headers=\"uploadHeader\"\n                        @change=\"handleChange\">\n                <div>\n                  <loading-outlined v-if=\"spinning\">正在上传</loading-outlined>\n                  <plus-outlined v-else></plus-outlined>\n                  <div class=\"ant-upload-text\">上传</div>\n                </div>\n              </a-upload>\n            </a-drawer>\n            <div class='pagination'>\n              <a-pagination showQuickJumper\n                            v-model:current=\"imagesParams.page\"\n                            :total=\"totalCount\"\n                            :show-total=\"total => `总共 ${total} 条结果`\"\n                            @change=\"loadImages(imagesParams)\" />\n            </div>\n          </a-spin>\n        </a-card>\n      </template>\n    </Suspense>\n  </div>\n</template>\n\n<script>\nimport {\n  HeartOutlined,\n  HeartFilled,\n  DeleteOutlined,\n  CloudUploadOutlined,\n  PlusOutlined,\n  LoadingOutlined\n} from '@ant-design/icons-vue'\nimport { message } from 'ant-design-vue'\nimport { Suspense, ref, reactive, onBeforeMount } from 'vue'\nimport { getImages, collectImage, deleteImage } from '@/api/image'\nexport default {\n  name: 'ImageIndex',\n  components: {\n    Suspense,\n    HeartOutlined,\n    HeartFilled,\n    DeleteOutlined,\n    CloudUploadOutlined,\n    PlusOutlined,\n    LoadingOutlined\n  },\n  setup () {\n    // 加载状态\n    const spinning = ref(false)\n    // 单选框切换时触发的事件\n    const onRadioChange = async function () {\n      imagesParams.page = 1\n      await loadImages(imagesParams)\n    }\n\n    // 上传组件显示\n    const uploadVisible = ref(false)\n    // 上传图片列表\n    const imageList = ref([])\n    // 设置请求头\n    const uploadHeader = {\n      Authorization: `Bearer ${window.localStorage.getItem('user')}`\n    }\n    // 上传状态改变时触发的方法\n    const handleChange = async image => {\n      if (image.file.status === 'done') {\n        // console.log(image.file)\n        message.success(`'上传 ${image.file.name} 完毕'`, 3)\n        imagesParams.page = 1\n        await loadImages(imagesParams)\n        setTimeout(() => {\n          uploadVisible.value = false\n        }, 500)\n      }\n      if (image.file.status === 'error') {\n        message.error(`上传 ${image.file.name} 失败，可能文件格式不对或文件大小太大`)\n        imagesParams.page = 1\n        await loadImages(imagesParams)\n        setTimeout(() => {\n          uploadVisible.value = false\n        }, 500)\n      }\n    }\n\n    // 展示用户素材列表参数\n    const imagesParams = reactive({\n      collect: false,\n      page: 1,\n      per_page: 8\n    })\n    // 总页数\n    const totalCount = ref(null)\n    // 每页结果数组\n    const imagesArr = ref([])\n    const loadImages = async params => {\n      spinning.value = true\n      const res = await getImages(params)\n      totalCount.value = res.data.data.total_count\n      imagesArr.value = res.data.data.results\n      spinning.value = false\n      console.log(res.data)\n    }\n\n    // 点击收藏事件\n    const onCollect = async function (image) {\n      // 已收藏，则取消收藏\n      // 未收藏，则添加收藏\n      image.statusDisabled = true\n      spinning.value = true\n      const res = await collectImage(image.id, !image.is_collected)\n      console.log(res.data)\n      if (res.data.data.collect) {\n        message.success('收藏图片成功')\n      } else {\n        message.success('取消收藏图片成功')\n      }\n      await loadImages(imagesParams)\n      image.statusDisabled = false\n    }\n\n    // 删除图片事件\n    const onDelete = async function (imageID) {\n      const res = await deleteImage(imageID)\n      if (res.status === 204) {\n        message.success('删除图片成功')\n        await loadImages(imagesParams)\n      } else {\n        message.error('删除图片失败')\n      }\n    }\n\n    onBeforeMount(async () => {\n      await loadImages(imagesParams)\n    })\n\n    return {\n      spinning, // 加载页面状态\n      onRadioChange, // 全部还是收藏单选框\n      uploadVisible, // 上传抽屉组件是否显示\n      imageList, // 上传图片列表\n      uploadHeader, // 上传请求头\n      handleChange, // 上传完成与失败时的方法\n      imagesParams, // 接口要求的图片参数\n      totalCount, // 接口返回的图片总数\n      imagesArr, // 接口返回的当前页图片数组\n      loadImages, // 向接口请求返回图片的方法\n      onCollect,\n      onDelete\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.image-container {\n  padding: 10px;\n\n  .radioGroup {\n    display: flex;\n    justify-content: space-between;\n  }\n\n  .image-display {\n    padding: 15px 20px 30px;\n\n    .image {\n      position: relative;\n      width: 100%;\n      height: 200px;\n\n      img {\n        width: 100%;\n        height: 100%;\n      }\n\n      .icon-placement {\n        display: flex;\n        justify-content: center;\n        position: absolute;\n        bottom: -14px;\n        width: 100%;\n        background: rgba(235, 235, 250, 0.4);\n      }\n    }\n  }\n}\n.pagination {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding-top: 20px;\n}\n.delete-image {\n  font-size: 20px;\n  line-height: 20px;\n  padding: 4px 0 0 20px;\n}\n</style>\n","// This icon file is generated automatically.\nvar HeartOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M923 283.6a260.04 260.04 0 00-56.9-82.8 264.4 264.4 0 00-84-55.5A265.34 265.34 0 00679.7 125c-49.3 0-97.4 13.5-139.2 39-10 6.1-19.5 12.8-28.5 20.1-9-7.3-18.5-14-28.5-20.1-41.8-25.5-89.9-39-139.2-39-35.5 0-69.9 6.8-102.4 20.3-31.4 13-59.7 31.7-84 55.5a258.44 258.44 0 00-56.9 82.8c-13.9 32.3-21 66.6-21 101.9 0 33.3 6.8 68 20.3 103.3 11.3 29.5 27.5 60.1 48.2 91 32.8 48.9 77.9 99.9 133.9 151.6 92.8 85.7 184.7 144.9 188.6 147.3l23.7 15.2c10.5 6.7 24 6.7 34.5 0l23.7-15.2c3.9-2.5 95.7-61.6 188.6-147.3 56-51.7 101.1-102.7 133.9-151.6 20.7-30.9 37-61.5 48.2-91 13.5-35.3 20.3-70 20.3-103.3.1-35.3-7-69.6-20.9-101.9zM512 814.8S156 586.7 156 385.5C156 283.6 240.3 201 344.3 201c73.1 0 136.5 40.8 167.7 100.4C543.2 241.8 606.6 201 679.7 201c104 0 188.3 82.6 188.3 184.5 0 201.2-356 429.3-356 429.3z\" } }] }, \"name\": \"heart\", \"theme\": \"outlined\" };\nexport default HeartOutlined;\n","import * as _vue from \"vue\";\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? Object(arguments[i]) : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport HeartOutlinedSvg from \"@ant-design/icons-svg/es/asn/HeartOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar HeartOutlined = function HeartOutlined(props, context) {\n  var p = _objectSpread({}, props, context.attrs);\n\n  return _vue.createVNode(AntdIcon, _vue.mergeProps(p, {\n    \"icon\": HeartOutlinedSvg\n  }), null);\n};\n\nHeartOutlined.displayName = 'HeartOutlined';\nHeartOutlined.inheritAttrs = false;\nexport default HeartOutlined;","// This icon file is generated automatically.\nvar HeartFilled = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M923 283.6a260.04 260.04 0 00-56.9-82.8 264.4 264.4 0 00-84-55.5A265.34 265.34 0 00679.7 125c-49.3 0-97.4 13.5-139.2 39-10 6.1-19.5 12.8-28.5 20.1-9-7.3-18.5-14-28.5-20.1-41.8-25.5-89.9-39-139.2-39-35.5 0-69.9 6.8-102.4 20.3-31.4 13-59.7 31.7-84 55.5a258.44 258.44 0 00-56.9 82.8c-13.9 32.3-21 66.6-21 101.9 0 33.3 6.8 68 20.3 103.3 11.3 29.5 27.5 60.1 48.2 91 32.8 48.9 77.9 99.9 133.9 151.6 92.8 85.7 184.7 144.9 188.6 147.3l23.7 15.2c10.5 6.7 24 6.7 34.5 0l23.7-15.2c3.9-2.5 95.7-61.6 188.6-147.3 56-51.7 101.1-102.7 133.9-151.6 20.7-30.9 37-61.5 48.2-91 13.5-35.3 20.3-70 20.3-103.3.1-35.3-7-69.6-20.9-101.9z\" } }] }, \"name\": \"heart\", \"theme\": \"filled\" };\nexport default HeartFilled;\n","import * as _vue from \"vue\";\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? Object(arguments[i]) : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport HeartFilledSvg from \"@ant-design/icons-svg/es/asn/HeartFilled\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar HeartFilled = function HeartFilled(props, context) {\n  var p = _objectSpread({}, props, context.attrs);\n\n  return _vue.createVNode(AntdIcon, _vue.mergeProps(p, {\n    \"icon\": HeartFilledSvg\n  }), null);\n};\n\nHeartFilled.displayName = 'HeartFilled';\nHeartFilled.inheritAttrs = false;\nexport default HeartFilled;","// This icon file is generated automatically.\nvar CloudUploadOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M518.3 459a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V856c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V613.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 459z\" } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M811.4 366.7C765.6 245.9 648.9 160 512.2 160S258.8 245.8 213 366.6C127.3 389.1 64 467.2 64 560c0 110.5 89.5 200 199.9 200H304c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8h-40.1c-33.7 0-65.4-13.4-89-37.7-23.5-24.2-36-56.8-34.9-90.6.9-26.4 9.9-51.2 26.2-72.1 16.7-21.3 40.1-36.8 66.1-43.7l37.9-9.9 13.9-36.6c8.6-22.8 20.6-44.1 35.7-63.4a245.6 245.6 0 0152.4-49.9c41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.2c19.9 14 37.5 30.8 52.4 49.9 15.1 19.3 27.1 40.7 35.7 63.4l13.8 36.5 37.8 10C846.1 454.5 884 503.8 884 560c0 33.1-12.9 64.3-36.3 87.7a123.07 123.07 0 01-87.6 36.3H720c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h40.1C870.5 760 960 670.5 960 560c0-92.7-63.1-170.7-148.6-193.3z\" } }] }, \"name\": \"cloud-upload\", \"theme\": \"outlined\" };\nexport default CloudUploadOutlined;\n","import * as _vue from \"vue\";\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? Object(arguments[i]) : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport CloudUploadOutlinedSvg from \"@ant-design/icons-svg/es/asn/CloudUploadOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar CloudUploadOutlined = function CloudUploadOutlined(props, context) {\n  var p = _objectSpread({}, props, context.attrs);\n\n  return _vue.createVNode(AntdIcon, _vue.mergeProps(p, {\n    \"icon\": CloudUploadOutlinedSvg\n  }), null);\n};\n\nCloudUploadOutlined.displayName = 'CloudUploadOutlined';\nCloudUploadOutlined.inheritAttrs = false;\nexport default CloudUploadOutlined;","/*\n  素材API\n */\n\nimport { requestNet } from '@/utils/request'\n\n// 获取素材列表\nexport const getImages = params => {\n  return requestNet({\n    method: 'GET',\n    url: '/mp/v1_0/user/images',\n    params\n  })\n}\n\n// 上传图片素材\nexport const uploadImage = data => {\n  return requestNet({\n    method: 'POST',\n    url: '/mp/v1_0/user/images',\n    data\n  })\n}\n\n// 收藏图片\nexport const collectImage = (imageID, collect) => {\n  return requestNet({\n    method: 'PUT',\n    url: `/mp/v1_0/user/images/${imageID}`,\n    data: { collect }\n  })\n}\n\n// 删除图片\nexport const deleteImage = imageID => {\n  return requestNet({\n    method: 'DELETE',\n    url: `/mp/v1_0/user/images/${imageID}`\n  })\n}\n","import { render } from \"./index.vue?vue&type=template&id=b56b395c&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=b56b395c&lang=less&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-b56b395c\"\n\nexport default script"],"sourceRoot":""}